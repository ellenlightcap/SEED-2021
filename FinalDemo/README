This is the code for the final demo
